<div class="admin-all-orders-container">  
  <div class="board-title">
    <p>Đơn Hàng: {{totalOrder}}</p>
  </div>
  
  <div class="control-bar">
    <div class="filter-and-create">
      <div class="sort">
        <label>Sắp xếp theo:</label>
        <select id="createdAt" class="filter-btn">
          <option value="">Ngày đặt hàng</option>
          <option value="1">Ngày tăng dần</option>
          <option value="-1">Ngày giảm dần</option>
        </select>

        <select id="totalOrderPrice" class="filter-btn">
          <option value="">Giá trị đơn mặc định</option>
          <option value="1">Giá trị tăng dần</option>
          <option value="-1">Giá trị giảm dần</option>
        </select>
      </div>

      <div class="filter">
        <label>Lọc theo:</label>
        <select id="status" class="filter-btn">
          <option value="">Trạng thái đơn</option>
          {{#each orderStatuses}}
          <option value="{{this.code}}">{{this.name}}</option>
          {{/each}}
        </select>

        <select id="paymentMethod" class="filter-btn">
          <option value="">Phương thức thanh toán</option>
          {{#each paymentMethods}}
          <option value="{{this.code}}">{{this.name}}</option>
          {{/each}}
        </select>
      </div>
      <button id="clear-filter" style="display: none">Xoá bộ lọc</button>

      <a href="/admin/all-orders/order/create" class="create-btn" id="create-btn">
        <i class="fi fi-rr-plus"></i>
        <p>Thêm Đơn Hàng</p>
      </a>
    </div>
    <input type="text" id="search-input" placeholder="Tìm kiếm đơn hàng">
  </div>

  <div class="table">
    {{> exportFileButton}}
    <table class="all-items">
      <thead>
        <tr>
          <td style="width:  5%">STT           </td>
          <td style="width: 20%">Mã Đơn Hàng   </td>
          <td style="width: 20%">Tên Khách Hàng</td>
          <td style="width: 10%">Tổng Số Tiền  </td>
          <td style="width: 15%">Ngày Đặt Hàng </td>
          <td style="width: 20%">Tình Trạng    </td>
          <td style="width: 10%">Chi tiết      </td>
        </tr>
      </thead>

      <tbody>
        {{#each orders}}
        <tr>
          <td>{{addIndex @index 1}}</td>
          <td>{{this._id}}</td>
          <td>{{this.customerInfo.name}}</td>
          <td>{{formatNumber this.totalOrderPrice}}</td>
          <td>{{formatDate this.createdAt}}</td>
          <td>{{formatStatus this.status}}</td>
          <td><a href="/admin/all-orders/order/{{this._id}}">Xem</a></td>
        </tr>
        {{/each}}
      </tbody>
    </table>
  </div>

  <span class="pagination"></span>
</div>

<script>
  const successful = '{{successful}}'
  const totalOrder = '{{totalOrder}}'
  const currentPage = '{{currentPage}}'
  loadFile('/js/admin/all/order.js')
</script>